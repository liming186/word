server:
  port: 8080
  address: 0.0.0.0

spring:
  datasource:
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DB:word_app}?useSSL=false&allowPublicKeyRetrieval=true&characterEncoding=utf8
    username: root
    password: 
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
    open-in-view: false
  jackson:
    default-property-inclusion: non_null
  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: always
    timeout: 2000ms

app:
  jwt:
    # 作为“普通字符串密钥”使用；建议 >= 32 字符
    secret: ${JWT_SECRET:change-me-please-32-chars-secret!!}
    expiration-minutes: ${JWT_EXPIRATION_MINUTES:60}
  cors:
    # 本地开发默认允许常见本机端口
    # 如需收紧：设置 FRONTEND_ORIGIN_PATTERNS=http://localhost:5173,http://localhost:4173
    # 允许 file:// 打开前端页面时浏览器会发送的 Origin: null
    allowed-origin-patterns: ${FRONTEND_ORIGIN_PATTERNS:http://localhost:*,http://127.0.0.1:*,null}
  ai:
    api-key: ${GPT_API_KEY:${OPENAI_API_KEY:}}
    api-base: ${GPT_API_BASE:https://api.openai.com}
    model: ${GPT_MODEL:gpt-5.2}

logging:
  level:
    org.springframework.security: INFO
